{% extends "agentportal/base.html" %}
{% block content %}
<section id="card-headings">
	<div class="row">
		<div class="col-12 mt-3 mb-1">
			<h4 class="text-uppercase">Farmers</h4>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12 col-sm-12 col-lg-12">
			<div class="card text-left" style="background-image: url('/static/images/lightbulb.png');background-size: 100%;">
<div  class="card-header">
    <form  method="post" >
        <div class="row col-lg-12">
        
         <!---- <div class="col-lg-4">
          
           <div class="form-outline">
             <input id="search-input" type="search" id="form1" class="form-control" />
           </div>
           <button id="search-button" type="button" class="btn btn-primary">
             <i class="fa fa-search"></i>
           </button>

         </div>-->

        
               <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> First Name:</label>
                {{ filterform.first_name(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> Last Name:</label>
                {{ filterform.last_name(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 ">Phone Number:</label>
                {{ filterform.number(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
         
            <div class="col-lg-3"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> Location:</label>
                {{ filterform.location(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            
              
               <hr>
               <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> Country:</label>
                {{ filterform.country(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> Society:</label>
                {{ filterform.society(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> Language:</label>
                {{ filterform.language(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            <div class="col-lg-2"  style="margin-bottom:20px;margin-top:20px; ">
                <label for="donationinput1 "> Cooperative:</label>
                {{ filterform.cooperative(class="form-control btn btn-secondary dropdown-toggle ") }}
            </div>
            <div class="col-lg-2"  style="margin-bottom:20px;margin-top:50px; ">
                {{ filterform.submit(value="Filter",class="btn btn-primary ",style="color: white;background-color:#0F9B93;border-color:#FFF9B9;") }}
            </div>
       </div>
   </form>
</div>
                <div class="card-body" style="background-color: white;">
                    <div class="card-content">
                        <div class="table-responsive">
                            <table class="table table-bordered mb-0">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Order Number</th>
                                        <th>Cooperative</th>
                                        <th>Farmer Name</th>
                                        <th>Phone Number</th>
                                        <th>Premium Amount</th>
                                        <th>Cash Code</th>
                                        <th>Country</th>
                                        <th>Society</th>
                                        <th>Language</th>
                                        <th>Location</th>
                                        <th></th>
                                    
                                    </tr>
                                </thead>
                                <tbody>
                                    {%if search =="no"%}
                                    {% for farmer in farmers.items %}
                                   
                                    <tr>
                                        <td><a >{{farmer.ordernumber}}</a></td>
                                        <td><a >{{farmer.cooperative}}</a></td>
                                        <td><a href="{{url_for('core.farmer',id=farmer.id)}}">{{farmer.last_name}}</a></td>
                                        <td>{{farmer.number}}</td>
                                        <td>{{farmer.premium_amount}}</td>
                                        <td>{{farmer.cashcode}}</td>
                                        <td>{{farmer.country}}</td>
                                        <td>{{farmer.society}}</td>
                                        <td>{{farmer.language}}</td>
                                        <td>{{farmer.location}}</td>
                                        <td>
                                        <button class="fa fa-trash" type="button"  data-target="#deleteModal" data-toggle="modal"></button>
                                        </td>
                                        <div class="modal fade" id="deleteModal">
                                            <div class="modal-dialog">
                                             <div class="modal-content">
                                              <div class="modal-header">
                                               <h5 class="modal-title" id="exampleModalLabel">Delete farmer?</h5>
                                               <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                               <span aria-hidden="true">&times;</span>
                                               </button>
                                              </div>
                                              <div class="modal-body">
                                               <p>Are you sure you want to delete {{farmer.last_name}}?</p>
                                             </div>
                                             <div class="modal-footer">
                                              <button type="button" class="btn btn-secondary" id="close-modal">No</button>
                                               <a href="{{url_for('core.delete_farmer',farmer_id=farmer.id)}}"><button type="button" class="btn btn-danger">Yes</button></a>
                                              </div>
                                             </div>
                                            </div>
                                           </div>

                                    </tr>
                                    {% endfor %}
                                    {%else%}
                                    {% for farmer in farmers %}
                                   
                                    <tr>
                                        <td><a >{{farmer.ordernumber}}</a></td>
                                        <td><a >{{farmer.cooperative}}</a></td>
                                        <td><a href="{{url_for('core.farmer',id=farmer.id)}}">{{farmer.first_name}}</a></td>
                                        <td>{{farmer.last_name}}</td>
                                        <td>{{farmer.number}}</td>
                                        <td>{{farmer.premium_amount}}</td>
                                        <td>{{farmer.cashcode}}</td>
                                        <td>{{farmer.country}}</td>
                                        <td>{{farmer.society}}</td>
                                        <td>{{farmer.language}}</td>
                                        <td>{{farmer.location}}</td>
                                        <td><a><i class="fa-fa trash"></i></a></td>

                                    </tr>
                                    {% endfor %}
                                    {%endif%}
                                    
                                </tbody>
                            </table>
                        </div>
                        
                    </div>
                </div>
                {% if search =="no" %}
                <div class="text-right">
                    <a href="{{ url_for('core.farmers', page=farmers.prev_num) }}"
                       class="btn btn-outline-dark 
                       {% if farmers.page == 1 %}disabled{% endif %}">
                        &laquo;
                    </a><!-- Loop through the number of pages to display a link for each-->
                    {% for page_num in farmers.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}{% if page_num %}
                  <!-- Check for the active page and set the link to "Active"-->
                            {% if farmers.page == page_num %}
                            <a href="{{ url_for('core.farmers', page=page_num) }}"
                               class="btn btn-dark">
                                {{ page_num }}
                            </a>
                            {% else %}
                            <a href="{{ url_for('core.farmers', page=page_num) }}"
                               class="btn btn-outline-dark">
                                {{ page_num }}
                            </a>
                            {% endif %}
                        {% else %}
                            ...
                        {% endif %}
                    {% endfor %}    <a href="{{ url_for('core.farmers', page=farmers.next_num) }}"
                       class="btn btn-outline-dark 
                       {% if farmers.page == farmers.pages %}disabled{% endif %}">
                        &raquo;
                    </a>
                  </div>
                  <p class="text-right mt-3">
                   Showing page {{ farmers.page }} of {{ farmers.pages }}
                  </p>
                              </div>
                             
                                          {%endif%}
              
            </div>
				
			

           
        </div>
        </div>
    </div>
	

</section>
<!--/ eCommerce statistic -->
<!-- Modal -->






    {% endblock %}
    <!-- ////////////////////////////////////////////////////////////////////////////-->
    